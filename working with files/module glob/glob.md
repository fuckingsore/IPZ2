## Модуль `glob`

Ви напевно вже стикалися з використанням шаблонів `glob` як способу використання символа підстановки `*` для подання будь-якого рядка символів. Це досить зручний метод вибору файлів, які відповідають певним шаблонам, тому було б непогано швидко розібратися з цим в середовищі програмування `nodejs`.
`Glob` пакета `npm` - відмінне рішення для вибору файлів в середовищі `node.js` з шаблонами `glob`, тому давайте поглянемо на деякі приклади `glob` в дії.

### Що таке `glob` та символ підстановки `*`.
----------------------------------------------

Це спосіб використання символу підстановки `*` для представлення нуля або більше символів:

```*.txt
```

Буде відповідати будь-якому файлу з розширенням .txt, яке буде відповідати helloworld.txt та readme.txt, але не index.js у даному каталозі. Це те, що можна використовувати, коли мова йде про фільтрацію файлів у менеджерах файлових систем, терміналах інтерфейсу командного рядка тощо. `Globs` можуть бути менш потужними, ніж шаблони `regEx`, але для більшості прикладів використання спрощені шаблони `glob` все ще достатньо хороші, щоб зробити роботу, коли справа стосується узгодження шаблонів та шляхів.

### Основне використання `glob` у `nodejs`.
------------------------------------------

Ім'я пакету `glob`, тому його можна додати до проекту `node` зі звичайним синтаксисом, таким як:

```bash
npm install glob --save
```

Після установки пакета `glob npm` він може знадобитися в сценарії, як і будь-який інший вбудований модуль `nodejs` або користувальницький проект, який був встановлений в папку модулів `node` проекту. У папці тестового проекту створено простий файл `basic.js`, який відповідатиме будь-якому файлу `javaScript` у поточному робочому шляху.

```js
var glob = require('glob');

glob('*.js', function (err, files) {

    if (err) {

        console.log(err);

    } else {

        // a list of paths to javaScript files in the current working directory
        console.log(files);

    }

});
```

За замовчуванням `glob` буде шукати файли, що відповідають заданому шаблону, у поточному робочому каталозі. Коли ми викликаємо це звідти, він просто видає нам `[basic.js]`, оскільки це поки що єдиний файл `javaScript` у тестовій папці, але можна здійснитий й рекурсивний пошук за допомогою шаблону `**`.

### Підстановочний знак `**`.
-----------------------------

Підстановочний знак `**` можна використовувати для пошуку того, що є в поточному робочому каталозі, а також будь-яких додаткових підкаталогів:

```js
var glob = require('glob');

var forFiles = function(err,files){ console.log(files);};

glob('**/*.md', function (err, forFiles){
    
if (err) {

    console.log(err);

} else {

    // a list of paths to javaScript files in the current working directory
    console.log(forFiles);

}

});
```
Програма буде шукати та складати список назв файлів для кожного файлу із позначкою, знайденого у поточному робочому шляху та будь-якому додатковому шляху у поточній робочій папці.

### Зміна поточного робочого шляху.
-----------------------------------

Якщо до `glob` передано три аргументи, другий може бути об'єктом `options`, і одним із багатьох варіантів, який можна змінити, є поточний робочий каталог, який за замовчуванням повертається `process.cwd ()` у `node.js`.

```js
var glob = require('glob'),

// some options
    options = {

        cwd: 'node_modules'

    },

// for Files
    forFiles = function(err,files){ console.log(files);};

// glob it.
glob('**/*.md', options, forFiles);
```

### Читання файлів.
-------------------

`glob` призначений для зіставлення файлів, але коли справа доходить до фактичного читання вмісту файлів, необхідно буде використовувати додаткове рішення в поєднанні з `glob`. Таким чином, це не зовсім повноцінний обхідник файлової системи, але це цінний інструмент для створення обхідника з нуля, який буде підтримувати шаблони `glob`.

```js
let glob = require('glob'),
    fs = require('fs');

let readFiles = function (pat, forFile) {

    pat = pat || '*.js';
    forFile = forFile || function (content) {
        console.log(content);
    };

    glob('*.js', function (err, files) {

        if (err) {

            console.log(err);

        } else {

            files.forEach(function (file) {

                fs.readFile(file, function (err, data) {

                    if (err) {

                        console.log(err);

                    } else {

                        forFile(data.toString());

                    }

                });

            });

        }

    });

};

readFiles();
```

### Висновок.
-------------

Це відмінне node.js рішення для швидкої роботи з шаблонами `glob`. На даний момент є файл [readme](https://github.com/isaacs/node-glob/blob/master/README.md) проекту, в якому детально описані додаткові параметри, які не описані в цій статті.
